@(bucket_id: String)(stmt: String)(charts: List[String])

@main("Ranking") {



    <div class="pure-g">
        <div class="pure-u-1-8"></div>
        <div class="pure-u-3-4"><h1>@(stmt)</h1></div>
        <div class="pure-u-1-8"></div>
    </div>


    @for(g <- Arrays.asList(0,1,2,3,4)) {

        <div class="pure-g">
            <div class="pure-u-1-8"></div>
            <div class="pure-u-9-24"><img src="@routes.Assets.at("user_study_charts/data/images/"+charts(g*2+0)+".png")"/></div>
            <div class="pure-u-9-24"><img src="@routes.Assets.at("user_study_charts/data/images/"+charts(g*2+1)+".png")"/></div>
            <div class="pure-u-1-8"></div>
        </div>


        <div class="pure-g">
            <div class="pure-u-1-8"></div>
            <div class="pure-u-9-24">
                <form class="pure-form">
                    <select class="pure-input-2-3" id=@charts(g*2+0)>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </form>
            </div>
            <div class="pure-u-9-24">
                <form class="pure-form">
                    <select class="pure-input-2-3" id=@charts(g*2+1)>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </form>
            </div>
            <div class="pure-u-1-8"></div>
        </div>

    }

    <br>


    <div class="pure-g">
        <div class="pure-u-1-8"></div>
        <div class="pure-u-9-24"></div>
        <div class="pure-u-9-24" align="right">
            <button type="submit" id="submit" class="button-xlarge pure-button">Submit</button>
        </div>
        <div class="pure-u-1-8"></div>
    </div>
    <br>
    <br>


    <form id = "endForm" action="" method="POST" hidden>
        <input type="hidden" id="user-input" value="" name="user-input"/>
        <input type="hidden" id="assignmentId" value="" name="assignmentId"/>
        <input type="hidden" id="workerId" value="" name="workerId"/>
        <input type="hidden" id="hitId" value="" name="hitId"/>
    </form>
  



    <script>
    
    var queryDict = {};
  location.search.substr(1).split("&").forEach(function(item) {queryDict[item.split("=")[0]] = item.split("=")[1]})
  //Using extracted url parameters to populate form
    $("#endForm").attr("action", queryDict["host"]);
    $('#assignmentId').val(queryDict["assignmentId"]);
    $('#workerId').val(queryDict["workerId"]);
    $('#hitId').val(queryDict["hitId"]);

    (@charts).forEach(element => {
        $('#endForm').append('<input type="text" name="'+element+'" id="'+'input-'+element+'"/>');
    })

  //Sets trigger for confirmation message.
  $('#submit').click(function(){
    if(confirm("Sure to submit to responses?")) {
        (@charts).forEach(element => {
            $('#input-'+element).val(
                $( "#"+element+" option:selected" ).text()
            );
        });
        $("#endForm").submit();
    } 
  });
    
    
    </script>







}
